# Generated by Django 4.2.27 on 2025-12-23 11:05

import core.fields
import core.utils
import datetime
from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion
import uuid


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('location', '0018_auto_20230925_2243'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='GrupoFamiliar',
            fields=[
                ('validity_from', core.fields.DateTimeField(db_column='ValidityFrom', default=datetime.datetime.now)),
                ('validity_to', core.fields.DateTimeField(blank=True, db_column='ValidityTo', null=True)),
                ('legacy_id', models.IntegerField(blank=True, db_column='LegacyID', null=True)),
                ('id', models.AutoField(db_column='GrupoFamiliarID', primary_key=True, serialize=False)),
                ('uuid', models.CharField(db_column='GrupoFamiliarUUID', default=uuid.uuid4, max_length=36, unique=True)),
                ('codigo', models.CharField(db_column='Codigo', max_length=50, unique=True)),
                ('nome', models.CharField(db_column='Nome', max_length=255)),
                ('numero_familias', models.IntegerField(db_column='NumeroFamilias', default=0)),
                ('ativo', models.BooleanField(db_column='Ativo', default=True)),
                ('distrito', models.ForeignKey(db_column='DistritoID', on_delete=django.db.models.deletion.PROTECT, related_name='grupos_familiares', to='location.location')),
                ('localidade', models.ForeignKey(blank=True, db_column='LocalidadeID', null=True, on_delete=django.db.models.deletion.PROTECT, related_name='grupos_familiares_localidade', to='location.location')),
            ],
            options={
                'db_table': 'tblGrupoFamiliar',
                'managed': True,
            },
            bases=(core.utils.CachedModelMixin, models.Model),
        ),
        migrations.CreateModel(
            name='ModuloEducacional',
            fields=[
                ('validity_from', core.fields.DateTimeField(db_column='ValidityFrom', default=datetime.datetime.now)),
                ('validity_to', core.fields.DateTimeField(blank=True, db_column='ValidityTo', null=True)),
                ('legacy_id', models.IntegerField(blank=True, db_column='LegacyID', null=True)),
                ('id', models.AutoField(db_column='ModuloEducacionalID', primary_key=True, serialize=False)),
                ('uuid', models.CharField(db_column='ModuloEducacionalUUID', default=uuid.uuid4, max_length=36, unique=True)),
                ('codigo', models.CharField(db_column='Codigo', max_length=50, unique=True)),
                ('nome', models.CharField(db_column='Nome', max_length=255)),
                ('descricao', models.TextField(blank=True, db_column='Descricao', null=True)),
                ('ordem', models.IntegerField(db_column='Ordem', default=0)),
                ('duracao_semanas', models.IntegerField(db_column='DuracaoSemanas', default=1)),
                ('ativo', models.BooleanField(db_column='Ativo', default=True)),
            ],
            options={
                'db_table': 'tblModuloEducacional',
                'managed': True,
            },
            bases=(core.utils.CachedModelMixin, models.Model),
        ),
        migrations.CreateModel(
            name='SessaoPEP',
            fields=[
                ('validity_from', core.fields.DateTimeField(db_column='ValidityFrom', default=datetime.datetime.now)),
                ('validity_to', core.fields.DateTimeField(blank=True, db_column='ValidityTo', null=True)),
                ('legacy_id', models.IntegerField(blank=True, db_column='LegacyID', null=True)),
                ('id', models.AutoField(db_column='SessaoPEPID', primary_key=True, serialize=False)),
                ('uuid', models.CharField(db_column='SessaoPEPUUID', default=uuid.uuid4, max_length=36, unique=True)),
                ('codigo_sessao', models.CharField(db_column='CodigoSessao', max_length=50, unique=True)),
                ('mes_modulo_anterior', models.CharField(blank=True, db_column='MesModuloAnterior', max_length=50, null=True)),
                ('dia_semana', models.CharField(choices=[('SEG', 'Segunda-feira'), ('TER', 'Terça-feira'), ('QUA', 'Quarta-feira'), ('QUI', 'Quinta-feira'), ('SEX', 'Sexta-feira'), ('SAB', 'Sábado'), ('DOM', 'Domingo')], db_column='DiaSemana', max_length=3)),
                ('data_sessao', models.DateField(db_column='DataSessao')),
                ('hora_sessao', models.TimeField(db_column='HoraSessao')),
                ('zona', models.CharField(db_column='Zona', max_length=255)),
                ('numero_familias', models.IntegerField(db_column='NumeroFamilias')),
                ('tempo_deslocamento', models.IntegerField(blank=True, db_column='TempoDeslocamento', help_text='Tempo em minutos', null=True)),
                ('feedback_documentacao', models.TextField(db_column='FeedbackDocumentacao')),
                ('tem_supervisao', models.BooleanField(db_column='TemSupervisao', default=False)),
                ('observacoes', models.TextField(blank=True, db_column='Observacoes', null=True)),
                ('status', models.CharField(choices=[('PLAN', 'Planeada'), ('EXEC', 'Executada'), ('CANC', 'Cancelada')], db_column='Status', default='PLAN', max_length=4)),
                ('coordenador_distrital', models.ForeignKey(db_column='CoordenadorDistritalID', on_delete=django.db.models.deletion.PROTECT, related_name='sessoes_coordenadas', to=settings.AUTH_USER_MODEL)),
                ('distrito', models.ForeignKey(db_column='DistritoID', on_delete=django.db.models.deletion.PROTECT, to='location.location')),
                ('grupo_familia', models.ForeignKey(db_column='GrupoFamiliaID', on_delete=django.db.models.deletion.PROTECT, to='pep_plus.grupofamiliar')),
                ('modulo', models.ForeignKey(db_column='ModuloID', on_delete=django.db.models.deletion.PROTECT, to='pep_plus.moduloeducacional')),
                ('tecnico_social', models.ForeignKey(db_column='TecnicoSocialID', on_delete=django.db.models.deletion.PROTECT, related_name='sessoes_tecnico', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'tblSessaoPEP',
                'ordering': ['-data_sessao', '-hora_sessao'],
                'managed': True,
            },
            bases=(core.utils.CachedModelMixin, models.Model),
        ),
        migrations.CreateModel(
            name='SupervisaoSessao',
            fields=[
                ('validity_from', core.fields.DateTimeField(db_column='ValidityFrom', default=datetime.datetime.now)),
                ('validity_to', core.fields.DateTimeField(blank=True, db_column='ValidityTo', null=True)),
                ('legacy_id', models.IntegerField(blank=True, db_column='LegacyID', null=True)),
                ('id', models.AutoField(db_column='SupervisaoSessaoID', primary_key=True, serialize=False)),
                ('uuid', models.CharField(db_column='SupervisaoSessaoUUID', default=uuid.uuid4, max_length=36, unique=True)),
                ('data_supervisao', models.DateField(db_column='DataSupervisao')),
                ('data_modulo_anterior', models.DateField(blank=True, db_column='DataModuloAnterior', null=True)),
                ('identificador_grupo', models.CharField(db_column='IdentificadorGrupo', max_length=50)),
                ('perguntas_avaliacao', models.JSONField(db_column='PerguntasAvaliacao', default=dict)),
                ('pontos_positivos', models.TextField(blank=True, db_column='PontosPositivos', null=True)),
                ('pontos_melhorar', models.TextField(blank=True, db_column='PontosMelhorar', null=True)),
                ('observacoes', models.TextField(blank=True, db_column='Observacoes', null=True)),
                ('formador', models.ForeignKey(db_column='FormadorID', on_delete=django.db.models.deletion.PROTECT, related_name='supervisoes_recebidas', to=settings.AUTH_USER_MODEL)),
                ('sessao', models.ForeignKey(db_column='SessaoID', on_delete=django.db.models.deletion.CASCADE, related_name='supervisoes', to='pep_plus.sessaopep')),
                ('supervisor', models.ForeignKey(db_column='SupervisorID', on_delete=django.db.models.deletion.PROTECT, related_name='supervisoes_realizadas', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'tblSupervisaoSessao',
                'ordering': ['-data_supervisao'],
                'managed': True,
            },
            bases=(core.utils.CachedModelMixin, models.Model),
        ),
        migrations.CreateModel(
            name='ExecucaoSessao',
            fields=[
                ('validity_from', core.fields.DateTimeField(db_column='ValidityFrom', default=datetime.datetime.now)),
                ('validity_to', core.fields.DateTimeField(blank=True, db_column='ValidityTo', null=True)),
                ('legacy_id', models.IntegerField(blank=True, db_column='LegacyID', null=True)),
                ('id', models.AutoField(db_column='ExecucaoSessaoID', primary_key=True, serialize=False)),
                ('uuid', models.CharField(db_column='ExecucaoSessaoUUID', default=uuid.uuid4, max_length=36, unique=True)),
                ('numero_participantes_compromissos', models.IntegerField(db_column='NumeroParticipantesCompromissos', default=0)),
                ('praticas_positivas', models.JSONField(blank=True, db_column='PraticasPositivas', default=list)),
                ('desafios_transmissao', models.JSONField(blank=True, db_column='DesafiosTransmissao', default=list)),
                ('necessita_encaminhamento', models.BooleanField(db_column='NecessitaEncaminhamento', default=False)),
                ('auto_avaliacao_pontos_fortes', models.JSONField(blank=True, db_column='AutoAvaliacaoPontosFortes', default=list)),
                ('auto_avaliacao_pontos_atencao', models.JSONField(blank=True, db_column='AutoAvaliacaoPontosAtencao', default=list)),
                ('avaliacao_metodologia', models.JSONField(blank=True, db_column='AvaliacaoMetodologia', default=dict)),
                ('observacoes', models.TextField(blank=True, db_column='Observacoes', null=True)),
                ('data_execucao', models.DateTimeField(auto_now_add=True, db_column='DataExecucao')),
                ('formador', models.ForeignKey(db_column='FormadorID', on_delete=django.db.models.deletion.PROTECT, related_name='sessoes_formadas', to=settings.AUTH_USER_MODEL)),
                ('localidade', models.ForeignKey(blank=True, db_column='LocalidadeID', null=True, on_delete=django.db.models.deletion.PROTECT, to='location.location')),
                ('sessao', models.OneToOneField(db_column='SessaoID', on_delete=django.db.models.deletion.CASCADE, related_name='execucao', to='pep_plus.sessaopep')),
                ('supervisor', models.ForeignKey(blank=True, db_column='SupervisorID', null=True, on_delete=django.db.models.deletion.PROTECT, related_name='sessoes_supervisionadas', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'tblExecucaoSessao',
                'managed': True,
            },
            bases=(core.utils.CachedModelMixin, models.Model),
        ),
        migrations.CreateModel(
            name='EncaminhamentoSessao',
            fields=[
                ('validity_from', core.fields.DateTimeField(db_column='ValidityFrom', default=datetime.datetime.now)),
                ('validity_to', core.fields.DateTimeField(blank=True, db_column='ValidityTo', null=True)),
                ('legacy_id', models.IntegerField(blank=True, db_column='LegacyID', null=True)),
                ('id', models.AutoField(db_column='EncaminhamentoID', primary_key=True, serialize=False)),
                ('uuid', models.CharField(db_column='EncaminhamentoUUID', default=uuid.uuid4, max_length=36, unique=True)),
                ('familia_id', models.CharField(db_column='FamiliaID', max_length=50)),
                ('nome_familia', models.CharField(db_column='NomeFamilia', max_length=255)),
                ('codigo_encaminhamento', models.CharField(db_column='CodigoEncaminhamento', max_length=50)),
                ('descricao', models.TextField(db_column='Descricao')),
                ('status', models.CharField(choices=[('PEND', 'Pendente'), ('PROC', 'Em Processo'), ('CONC', 'Concluído'), ('CANC', 'Cancelado')], db_column='Status', default='PEND', max_length=4)),
                ('data_encaminhamento', models.DateField(auto_now_add=True, db_column='DataEncaminhamento')),
                ('data_conclusao', models.DateField(blank=True, db_column='DataConclusao', null=True)),
                ('observacoes', models.TextField(blank=True, db_column='Observacoes', null=True)),
                ('sessao', models.ForeignKey(db_column='SessaoID', on_delete=django.db.models.deletion.CASCADE, related_name='encaminhamentos', to='pep_plus.sessaopep')),
                ('tecnico_responsavel', models.ForeignKey(blank=True, db_column='TecnicoResponsavelID', null=True, on_delete=django.db.models.deletion.PROTECT, related_name='encaminhamentos_responsavel', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'tblEncaminhamentoSessao',
                'ordering': ['-data_encaminhamento'],
                'managed': True,
            },
            bases=(core.utils.CachedModelMixin, models.Model),
        ),
        migrations.CreateModel(
            name='RelatorioDistritalBimestral',
            fields=[
                ('validity_from', core.fields.DateTimeField(db_column='ValidityFrom', default=datetime.datetime.now)),
                ('validity_to', core.fields.DateTimeField(blank=True, db_column='ValidityTo', null=True)),
                ('legacy_id', models.IntegerField(blank=True, db_column='LegacyID', null=True)),
                ('id', models.AutoField(db_column='RelatorioDistritalID', primary_key=True, serialize=False)),
                ('uuid', models.CharField(db_column='RelatorioDistritalUUID', default=uuid.uuid4, max_length=36, unique=True)),
                ('periodo', models.CharField(choices=[('BIM1', '1º Bimestre (Jan-Fev)'), ('BIM2', '2º Bimestre (Mar-Abr)'), ('BIM3', '3º Bimestre (Mai-Jun)'), ('BIM4', '4º Bimestre (Jul-Ago)'), ('BIM5', '5º Bimestre (Set-Out)'), ('BIM6', '6º Bimestre (Nov-Dez)')], db_column='Periodo', max_length=4)),
                ('ano', models.IntegerField(db_column='Ano')),
                ('periodo_inicio', models.DateField(db_column='PeriodoInicio')),
                ('periodo_fim', models.DateField(db_column='PeriodoFim')),
                ('numero_localidades_atendidas', models.IntegerField(db_column='NumeroLocalidadesAtendidas', default=0)),
                ('numero_familias_atendidas', models.IntegerField(db_column='NumeroFamiliasAtendidas', default=0)),
                ('numero_tecnicos_formadores', models.IntegerField(db_column='NumeroTecnicosFormadores', default=0)),
                ('numero_sessoes_conduzidas', models.IntegerField(db_column='NumeroSessoesConduzidas', default=0)),
                ('numero_sessoes_esperadas', models.IntegerField(db_column='NumeroSessoesEsperadas', default=0)),
                ('numero_familias_presentes', models.IntegerField(db_column='NumeroFamiliasPresentes', default=0)),
                ('numero_familias_esperadas', models.IntegerField(db_column='NumeroFamiliasEsperadas', default=0)),
                ('percentual_sessoes', models.DecimalField(db_column='PercentualSessoes', decimal_places=2, default=0, max_digits=5)),
                ('percentual_familias', models.DecimalField(db_column='PercentualFamilias', decimal_places=2, default=0, max_digits=5)),
                ('numero_familias_migraram', models.IntegerField(db_column='NumeroFamiliasMigraram', default=0)),
                ('numero_sessoes_perdidas', models.IntegerField(db_column='NumeroSessoesPerdidas', default=0)),
                ('media_familia_presente', models.DecimalField(db_column='MediaFamiliaPresente', decimal_places=2, default=0, max_digits=5)),
                ('media_familia_esperada', models.DecimalField(db_column='MediaFamiliaEsperada', decimal_places=2, default=0, max_digits=5)),
                ('dados_tecnicos', models.JSONField(blank=True, db_column='DadosTecnicos', default=list)),
                ('dados_encaminhamentos', models.JSONField(blank=True, db_column='DadosEncaminhamentos', default=list)),
                ('observacoes', models.TextField(blank=True, db_column='Observacoes', null=True)),
                ('coordenador_distrital', models.ForeignKey(db_column='CoordenadorID', on_delete=django.db.models.deletion.PROTECT, related_name='relatorios_coordenados', to=settings.AUTH_USER_MODEL)),
                ('distrito', models.ForeignKey(db_column='DistritoID', on_delete=django.db.models.deletion.PROTECT, to='location.location')),
                ('tecnico_administrativo', models.ForeignKey(blank=True, db_column='TecnicoAdminID', null=True, on_delete=django.db.models.deletion.PROTECT, related_name='relatorios_admin', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'tblRelatorioDistritalBimestral',
                'ordering': ['-ano', '-periodo'],
                'managed': True,
                'unique_together': {('distrito', 'periodo', 'ano')},
            },
            bases=(core.utils.CachedModelMixin, models.Model),
        ),
        migrations.CreateModel(
            name='PresencaSessao',
            fields=[
                ('validity_from', core.fields.DateTimeField(db_column='ValidityFrom', default=datetime.datetime.now)),
                ('validity_to', core.fields.DateTimeField(blank=True, db_column='ValidityTo', null=True)),
                ('legacy_id', models.IntegerField(blank=True, db_column='LegacyID', null=True)),
                ('id', models.AutoField(db_column='PresencaSessaoID', primary_key=True, serialize=False)),
                ('uuid', models.CharField(db_column='PresencaSessaoUUID', default=uuid.uuid4, max_length=36, unique=True)),
                ('familia_id', models.CharField(db_column='FamiliaID', max_length=50)),
                ('nome_familia', models.CharField(db_column='NomeFamilia', max_length=255)),
                ('grupo_id', models.CharField(blank=True, db_column='GrupoID', max_length=50, null=True)),
                ('estado', models.CharField(choices=[('PRES', 'Presente'), ('AUSE', 'Ausente'), ('JUST', 'Justificado')], db_column='Estado', default='PRES', max_length=4)),
                ('codigo_encaminhamento', models.CharField(blank=True, db_column='CodigoEncaminhamento', max_length=50, null=True)),
                ('observacoes', models.TextField(blank=True, db_column='Observacoes', null=True)),
                ('sessao', models.ForeignKey(db_column='SessaoID', on_delete=django.db.models.deletion.CASCADE, related_name='presencas', to='pep_plus.sessaopep')),
            ],
            options={
                'db_table': 'tblPresencaSessao',
                'managed': True,
                'unique_together': {('sessao', 'familia_id')},
            },
            bases=(core.utils.CachedModelMixin, models.Model),
        ),
    ]
